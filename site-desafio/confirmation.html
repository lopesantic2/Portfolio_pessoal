<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://fonts.cdnfonts.com/css/poppins" />
    <link rel="stylesheet" href="css/confirmation.css" />
    <title>Contato</title>
</head>

<body>
    <!-- Cabeçalho -->
    <header class="cabecalho">
        <a class="logo" href="home.html" title="logo">Willian Lopes.</a>


        <!--Menu-->
        <nav class="menu">
            <ul>
                <li><a href="home.html"> Sobre mim </a></li>
                <li><a href="contato.html"> Contato </a></li>
                <li><a href="interesses.html"> Interesses </a></li>
            </ul>
        </nav>
    </header>

    <!-- Conteúdo do Site -->
    <h1>Página de Confirmação</h1>

    <main id="data"></main>
    <script src="script.js"></script>
</body>
</html>

<script>
   function downloadJson(obj) {
        const dataStr = "data:application/json;charset=utf-8," + encodeURIComponent(JSON.stringify(obj));
        const downloadAnchorNode = document.createElement("a");
        const baseUrl = window.location.origin;
        downloadAnchorNode.setAttribute("href", dataStr);
        downloadAnchorNode.setAttribute("download", "meuArquivo.json");
        document.body.appendChild(downloadAnchorNode);
        downloadAnchorNode.click();
        document.body.removeChild(downloadAnchorNode);
    }

    const json = localStorage.getItem("form")

    downloadJson(json)

    const obj = JSON.parse(json)
    const buttonConfirmacao = `
        <button>
            <a href="home.html">
                Confimar
            </a>
        </button>
    `
    for (key in obj) {
        const markup = `
            <div class="item">
                <span>${key} : ${obj[key]}</span>
            </div>
        `;
        document.getElementById("data").innerHTML += markup
    }
    document.getElementById("data").innerHTML += buttonConfirmacao
</script>